<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>Road</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="車が道路を走るだけ">
    <meta name="author" content="DE-TEIU">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/yui/3.18.0/cssreset/cssreset-min.css">
    <link href="css/main.css" rel="stylesheet">
</head>

<body>
    <div class="main">
    </div>
    <script>
        var car;
        window.onload = function () {
            //マウスカーソルに追従する車画像の設定
            car = new Image();
            var style = car.style;
            style.position = "fixed";
            style.display = "none";
            style.width = "15%";
            car.src = "./image/car.png";


            document.body.appendChild(car);

            //マウスカーソル移動イベント追加
            if (document.addEventListener) {
                document.addEventListener("mousemove", MouseMoveFunc);
            } else if (document.attachEvent) {
                document.attachEvent("onmousemove", MouseMoveFunc);
            }

            if (window.TouchEvent) {
                document.addEventListener("touchmove", TouchMoveFunc);
            }
        };

        //マウスカーソル移動時に車画像の位置を更新
        function MouseMoveFunc(e) {

            car.style.display = "inline";
            car.style.left = (e.clientX - (window.innerWidth * 0.15) / 2) + "px";
            car.style.top = (e.clientY - (window.innerWidth * 0.15) / 2) + "px";
        }

        function TouchMoveFunc(e) {
            var touchObj = e.touches[0];
            car.style.display = "inline";
            car.style.left = (touchObj.clientX) - (window.innerWidth * 0.15) / 2 + "px";
            car.style.top = (touchObj.clientY) - (window.innerWidth * 0.15) / 2 + "px";
        }
    </script>
</body>

</html>